<div class="container">
    <h1>Добавить пункт в {{ data.tableName | lowercase }}</h1>
    <form [formGroup]="form" (ngSubmit)="submit()">
        
        <mat-form-field>
            <mat-label>Категория</mat-label>
            <mat-select matInput formControlName="category">
                <mat-option *ngFor="let category of categories" [value]="category">
                  {{category}}
                </mat-option>
              </mat-select>
            <mat-error *ngIf="category.invalid && category.touched && category.errors['required']">{{ errorMessages['required'] }}</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Заголовок</mat-label>
            <input type="text" placeholder="Заголовок" matInput formControlName="title">
            <mat-error *ngIf="title.invalid && title.touched && title.errors['required']">{{ errorMessages['required'] }}</mat-error>
            <mat-error *ngIf="title.invalid && title.touched && title.errors['maxlength']">Заголовок {{ errorMessages['maxLengthTitle'] }}</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Описание</mat-label>
            <textarea rows="3" placeholder="Описание" matInput formControlName="description"></textarea>
            <mat-hint>{{description.value ? description.value.length : 0}}/500</mat-hint>
            <mat-error *ngIf="description.invalid && description.touched && description.errors['required']">{{ errorMessages['required'] }}</mat-error>
            <mat-error *ngIf="description.invalid && description.touched && description.errors['maxlength']">Описание {{ errorMessages['maxLengthPost'] }}<br>{{description.value ? description.value.length : 0}}/500</mat-error>
        </mat-form-field>


        <mat-form-field>
            <mat-label>Сумма</mat-label>
            <input type="number" placeholder="Сумма" matInput formControlName="amount">
            <mat-error *ngIf="amount.invalid && amount.touched && amount.errors['required']">{{ errorMessages['required'] }}: введите число</mat-error>
            <mat-error *ngIf="amount.invalid && amount.touched && amount.errors['min']">{{ errorMessages['minAmount'] }}</mat-error>
        </mat-form-field>

        <div class="button-set">
            <button class="submit" type="submit" [disabled]="form.invalid" mat-raised-button color="primary">Сохранить</button>
            <button class="cancel" type="button" (click)="cancel()" mat-raised-button color="accent">Отмена</button>
        </div>

    </form>
</div>
